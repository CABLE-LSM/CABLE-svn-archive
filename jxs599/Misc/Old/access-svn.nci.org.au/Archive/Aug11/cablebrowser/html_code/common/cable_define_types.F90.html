<HTML> <BODY BGCOLOR=#eeeeff LINK=#0000aa VLINK=#0000ff ALINK=#ff0000 ><BASE TARGET="bottom_target"><PRE><a name='1'>
<font color=#447700>!jhan:re-write arg list to alloc subrs -&gt; subr(var), use define_dimensions in subrs NOT module<a name='2'></font>
<A NAME='DEFINE_TYPES'><A href='../../html_code/common/cable_define_types.F90.html#DEFINE_TYPES' TARGET='top_target'><IMG SRC="../../gif/bar_purple.gif" border=0></A><a name='3'>
<font color=#993300>MODULE </font><font color=#cc0000>define_types</font> <A href='../../call_to/DEFINE_TYPES.html' TARGET='index'>16</A>,<A href='../../call_from/DEFINE_TYPES.html' TARGET='index'>5</A><a name='4'>
  <font color=#447700>! Contains all variables which are not subroutine-internal<a name='5'></font>
  <font color=#447700>!USE define_dimensions, only : mp !soil_snow etc relies on thisinheritance <a name='6'></font>
  USE <A href='../../html_code/common/cable_define_dimensions.F90.html#DEFINE_DIMENSIONS'>define_dimensions</A><A href='../../html_code/common/cable_define_types.F90.html#DEFINE_TYPES' TARGET='bottom_target'><IMG SRC="../../gif/cyan.gif" border=0></a><A NAME="DEFINE_DIMENSIONS_2">, only : i_d, r_1, r_2, ms, msn, mf, nrb, ncp, ncs, swb, n_tiles<a name='7'>
  implicit none<a name='8'>
  <font color=#447700>!MANY subrs rely on inheritance of these ATM<a name='9'></font>
  private :: i_d, r_1, r_2, ms, msn, mf, nrb, ncp, ncs<a name='10'>
  <a name='11'>
  <font color=#447700>! Energy and water balance variables:<a name='12'></font>
  TYPE balances_type <a name='13'>
     REAL(r_1), DIMENSION(:), POINTER :: drybal <font color=#447700>! energy balance for dry canopy<a name='14'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ebal   <font color=#447700>! energy balance per time step (W/m^2)<a name='15'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ebal_tot <font color=#447700>! cumulative energy balance (W/m^2)<a name='16'></font>
     REAL(r_1), DIMENSION(:), POINTER :: evap_tot <font color=#447700>! cumulative evapotranspiration (mm/dels)<a name='17'></font>
     REAL(r_1), DIMENSION(:), POINTER :: osnowd0  <font color=#447700>! snow depth, first time step<a name='18'></font>
     REAL(r_1), DIMENSION(:), POINTER :: precip_tot <font color=#447700>! cumulative precipitation (mm/dels)<a name='19'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnoff_tot  <font color=#447700>! cumulative runoff (mm/dels)<a name='20'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbal   <font color=#447700>! water balance per time step (mm/dels)<a name='21'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbal_tot <font color=#447700>! cumulative water balance (mm/dels)<a name='22'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbtot0 <font color=#447700>! total soil water (mm), first time step<a name='23'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wetbal <font color=#447700>! energy balance for wet canopy<a name='24'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='25'></font>
     <font color=#447700>!not used<a name='26'></font>
     REAL(r_1), DIMENSION(:), POINTER :: cansto0 <font color=#447700>! canopy water storage (mm)<a name='27'></font>
<font color=#447700>!checks only<a name='28'></font>
     REAL(r_1), DIMENSION(:), POINTER :: owbtot <font color=#447700>! total soil water (mm), first time step<a name='29'></font>
     REAL(r_1), DIMENSION(:), POINTER :: evapc_tot <font color=#447700>! cumulative evapotranspiration (mm/dels)<a name='30'></font>
     REAL(r_1), DIMENSION(:), POINTER :: evaps_tot <font color=#447700>! cumulative evapotranspiration (mm/dels)<a name='31'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnof1_tot  <font color=#447700>! cumulative runoff (mm/dels)<a name='32'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnof2_tot  <font color=#447700>! cumulative runoff (mm/dels)<a name='33'></font>
     REAL(r_1), DIMENSION(:), POINTER :: snowdc_tot  <font color=#447700>! cumulative runoff (mm/dels)<a name='34'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbal_tot1 <font color=#447700>! cumulative water balance (mm/dels)<a name='35'></font>
     REAL(r_1), DIMENSION(:), POINTER :: delwc_tot <font color=#447700>! energy balance for wet canopy<a name='36'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qasrf_tot <font color=#447700>! heat advected to the snow by precip. <a name='37'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qfsrf_tot <font color=#447700>! energy of snowpack phase changes <a name='38'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qssrf_tot <font color=#447700>! energy of snowpack phase changes <a name='39'></font>
<font color=#447700>!jhan:}<a name='40'></font>
  END TYPE balances_type<a name='41'>
  <font color=#447700>! Soil parameters:<a name='42'></font>
  TYPE soil_parameter_type <a name='43'>
     REAL(r_1), DIMENSION(:), POINTER :: bch  <font color=#447700>! parameter b in Campbell equation<a name='44'></font>
     REAL(r_1), DIMENSION(:), POINTER :: c3   <font color=#447700>! c3 drainage coeff (fraction)<a name='45'></font>
     REAL(r_1), DIMENSION(:), POINTER :: clay <font color=#447700>! fraction of soil which is clay<a name='46'></font>
     REAL(r_1), DIMENSION(:), POINTER :: css  <font color=#447700>! soil specific heat capacity [kJ/kg/K]<a name='47'></font>
     REAL(r_1), DIMENSION(:), POINTER :: hsbh  <font color=#447700>! difsat * etasat (=hyds*abs(sucs)*bch)<a name='48'></font>
     REAL(r_1), DIMENSION(:), POINTER :: hyds  <font color=#447700>! hydraulic conductivity @ saturation [m/s], Ksat<a name='49'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: i2bp3  <font color=#447700>! par. one in K vis suction (=nint(bch)+2)<a name='50'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: ibp2   <font color=#447700>! par. two in K vis suction (fn of pbch)<a name='51'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: isoilm <font color=#447700>! integer soil type<a name='52'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rhosoil <font color=#447700>! soil density [kg/m3]<a name='53'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rs20  <font color=#447700>! soil respiration at 20 C [mol m-2 s-1]<a name='54'></font>
     REAL(r_1), DIMENSION(:), POINTER :: sand  <font color=#447700>! fraction of soil which is sand<a name='55'></font>
     REAL(r_1), DIMENSION(:), POINTER :: sfc   <font color=#447700>! vol H2O @ field capacity<a name='56'></font>
     REAL(r_1), DIMENSION(:), POINTER :: silt  <font color=#447700>! fraction of soil which is silt<a name='57'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ssat  <font color=#447700>! vol H2O @ saturation<a name='58'></font>
     REAL(r_1), DIMENSION(:), POINTER :: sucs  <font color=#447700>! suction at saturation (m)<a name='59'></font>
     REAL(r_1), DIMENSION(:), POINTER :: swilt <font color=#447700>! vol H2O @ wilting<a name='60'></font>
     REAL(r_1), DIMENSION(:), POINTER  :: zse   <font color=#447700>! thickness of each soil layer (1=top) in m<a name='61'></font>
     REAL(r_1), DIMENSION(:), POINTER  :: zshh <font color=#447700>! distance between consecutive layer midpoints (m)<a name='62'></font>
     REAL(r_2), DIMENSION(:), POINTER :: cnsd <font color=#447700>! thermal conductivity of dry soil [W/m/K]<a name='63'></font>
     REAL(r_2), DIMENSION(:), POINTER :: pwb_min <font color=#447700>! working variable (swilt/ssat)**ibp2<a name='64'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: albsoil <font color=#447700>! soil reflectance (2nd dim. BP 21Oct2009)<a name='65'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='66'></font>
     REAL(r_1), DIMENSION(:), POINTER :: albsoilf <font color=#447700>! soil reflectance<a name='67'></font>
<font color=#447700>!jhan:}<a name='68'></font>
  END TYPE soil_parameter_type<a name='69'>
<a name='70'>
  <font color=#447700>! Soil and snow variables:<a name='71'></font>
  TYPE soil_snow_type <a name='72'>
     REAL(r_1), DIMENSION(:), POINTER :: iantrct <font color=#447700>! pointer to Antarctic land points<a name='73'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: dtmlt   <font color=#447700>! water flux to the soil<a name='74'></font>
     REAL(r_1), DIMENSION(:), POINTER :: pudsto  <font color=#447700>! puddle storage<a name='75'></font>
     REAL(r_1), DIMENSION(:), POINTER :: pudsmx  <font color=#447700>! puddle storage<a name='76'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: albsoilsn <font color=#447700>! soil + snow reflectance<a name='77'></font>
     REAL(r_1), DIMENSION(:), POINTER :: cls     <font color=#447700>! factor for latent heat<a name='78'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dfn_dtg <font color=#447700>! d(canopy%fns)/d(ssoil%tgg)<a name='79'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dfh_dtg <font color=#447700>! d(canopy%fhs)/d(ssoil%tgg)<a name='80'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dfe_ddq <font color=#447700>! d(canopy%fes)/d(dq)<a name='81'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ddq_dtg <font color=#447700>! d(dq)/d(ssoil%tgg)<a name='82'></font>
     REAL(r_1), DIMENSION(:), POINTER :: evapsn  <font color=#447700>! snow evaporation  <a name='83'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fwtop   <font color=#447700>! water flux to the soil<a name='84'></font>
 <font color=#447700>!jhan:Eva added these 3 vars. we have to clean up all o fthis anyway<a name='85'></font>
        REAL(r_1), DIMENSION(:), POINTER :: fwtop1   <font color=#447700>! water flux to the soil<a name='86'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fwtop2   <font color=#447700>! water flux to the soil<a name='87'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fwtop3   <font color=#447700>! water flux to the soil<a name='88'></font>
     REAL(r_2), DIMENSION(:,:), POINTER :: gammzz <font color=#447700>! heat capacity for each soil layer<a name='89'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: isflag <font color=#447700>! 0 =&gt; no snow 1 =&gt; snow<a name='90'></font>
     REAL(r_1), DIMENSION(:), POINTER :: osnowd  <font color=#447700>! snow depth from previous time step<a name='91'></font>
     REAL(r_1), DIMENSION(:), POINTER :: potev   <font color=#447700>! potential evapotranspiration<a name='92'></font>
     REAL(r_1), DIMENSION(:), POINTER :: runoff  <font color=#447700>! total runoff (mm/dels)<a name='93'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnof1   <font color=#447700>! surface runoff (mm/dels)<a name='94'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnof2   <font color=#447700>! deep drainage (mm/dels)<a name='95'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rtsoil  <font color=#447700>! turbulent resistance for soil<a name='96'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: sconds <font color=#447700>!<a name='97'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: sdepth <font color=#447700>! snow depth<a name='98'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: smass  <font color=#447700>! snow mass<a name='99'></font>
     REAL(r_1), DIMENSION(:), POINTER :: snage   <font color=#447700>! snow age<a name='100'></font>
     REAL(r_1), DIMENSION(:), POINTER :: snowd   <font color=#447700>! snow depth (liquid water)<a name='101'></font>
     REAL(r_1), DIMENSION(:), POINTER :: smelt   <font color=#447700>! snow melt <a name='102'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: ssdn <font color=#447700>! snow densities<a name='103'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ssdnn   <font color=#447700>! average snow density<a name='104'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: tgg   <font color=#447700>! soil temperature in K<a name='105'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: tggsn <font color=#447700>! snow temperature in K<a name='106'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tss     <font color=#447700>! surface temperature (weighted soil, snow)<a name='107'></font>
     REAL(r_1), DIMENSION(:), POINTER :: owb1     <font color=#447700>! surface temperature (weighted soil, snow)<a name='108'></font>
     REAL(r_2), DIMENSION(:,:), POINTER :: wb    <font color=#447700>! volumetric soil moisture (solid+liq)<a name='109'></font>
     REAL(r_2), DIMENSION(:,:), POINTER :: wbice  <font color=#447700>! soil ice<a name='110'></font>
     REAL(r_2), DIMENSION(:,:), POINTER :: wblf <font color=#447700>!<a name='111'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbtot   <font color=#447700>! total soil water (mm)<a name='112'></font>
 <font color=#447700>!jhan:Eva added these 6 vars. ome are for lkaes?<a name='113'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbtot1   <font color=#447700>! total soil water (mm)<a name='114'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wbtot2   <font color=#447700>! total soil water (mm)<a name='115'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wb_lake<a name='116'>
     REAL(r_1), DIMENSION(:), POINTER :: sinfil <a name='117'>
     REAL(r_1), DIMENSION(:,:), POINTER :: evapfbl<a name='118'>
     REAL(r_1), DIMENSION(:), POINTER :: qstss <a name='119'>
     REAL(r_1), DIMENSION(:), POINTER :: wetfac <font color=#447700>! surface wetness fact. at current time step<a name='120'></font>
     REAL(r_1), DIMENSION(:), POINTER :: owetfac <font color=#447700>! surface wetness fact. at previous time step<a name='121'></font>
     REAL(r_1), DIMENSION(:), POINTER :: t_snwlr <font color=#447700>! top snow layer depth in 3 layer snowpack<a name='122'></font>
     REAL(r_2), DIMENSION(:,:), POINTER :: wbfice <font color=#447700>!<a name='123'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='124'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: tggav <font color=#447700>! mean soil temperature in K<a name='125'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: otgg  <font color=#447700>! soil temperature in K<a name='126'></font>
     REAL(r_1), DIMENSION(:), POINTER :: otss     <font color=#447700>! surface temperature (weighted soil, snow)<a name='127'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tprecip<a name='128'>
     REAL(r_1), DIMENSION(:), POINTER :: tevap<a name='129'>
     REAL(r_1), DIMENSION(:), POINTER :: trnoff<a name='130'>
     REAL(r_1), DIMENSION(:), POINTER :: totenbal<a name='131'>
     REAL(r_1), DIMENSION(:), POINTER :: totenbal2<a name='132'>
     REAL(r_1), DIMENSION(:), POINTER :: fland     <font color=#447700>! factor for latent heat<a name='133'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ifland <font color=#447700>! integer soil type<a name='134'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: tilefrac     <font color=#447700>! factor for latent heat<a name='135'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qasrf <font color=#447700>! heat advected to the snow by precip. <a name='136'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qfsrf <font color=#447700>! energy of snowpack phase changes <a name='137'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qssrf <font color=#447700>! sublimation <a name='138'></font>
<font color=#447700>!jhan:}<a name='139'></font>
  END TYPE soil_snow_type<a name='140'>
<a name='141'>
  <font color=#447700>! Vegetation parameters:<a name='142'></font>
  TYPE veg_parameter_type<a name='143'>
     REAL(r_1), DIMENSION(:), POINTER :: canst1 <font color=#447700>! max intercepted water by canopy (mm/LAI)<a name='144'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dleaf  <font color=#447700>! chararacteristc legnth of leaf (m)<a name='145'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ejmax  <font color=#447700>! max pot. electron transp rate top leaf(mol/m2/s)<a name='146'></font>
     INTEGER(i_d),DIMENSION(:), POINTER :: iveg <font color=#447700>! vegetation type<a name='147'></font>
     INTEGER(i_d),DIMENSION(:), POINTER :: meth <font color=#447700>! method for calculation of canopy fluxes and temp.<a name='148'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frac4  <font color=#447700>! fraction of c4 plants<a name='149'></font>
     REAL(r_1), DIMENSION(:), POINTER :: hc     <font color=#447700>! roughness height of canopy (veg - snow)<a name='150'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vlai   <font color=#447700>! leaf area index<a name='151'></font>
     REAL(r_1), DIMENSION(:), POINTER :: xalbnir <a name='152'>
     REAL(r_1), DIMENSION(:), POINTER :: rp20   <font color=#447700>! plant respiration coefficient at 20 C<a name='153'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rpcoef <font color=#447700>! temperature coef nonleaf plant respiration (1/C)<a name='154'></font>
     REAL(r_1), DIMENSION(:), POINTER :: shelrb <font color=#447700>! sheltering factor (dimensionless)<a name='155'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vegcf  <font color=#447700>! kdcorbin, 08/10<a name='156'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tminvj <font color=#447700>! min temperature of the start of photosynthesis<a name='157'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tmaxvj <font color=#447700>! max temperature of the start of photosynthesis<a name='158'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vbeta  <font color=#447700>! <a name='159'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vcmax  <font color=#447700>! max RuBP carboxylation rate top leaf (mol/m2/s)<a name='160'></font>
     REAL(r_1), DIMENSION(:), POINTER :: xfang  <font color=#447700>! leaf angle PARAMETER<a name='161'></font>
    REAL(r_1), DIMENSION(:), POINTER :: extkn  <font color=#447700>! extinction coef for vertical<a name='162'></font>
    REAL(r_1), DIMENSION(:), POINTER :: wai   <font color=#447700>! wood area index (stem+branches+twigs)<a name='163'></font>
    LOGICAL,   DIMENSION(:), POINTER :: deciduous <font color=#447700>! flag used for phenology fix<a name='164'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: refl<a name='165'>
     REAL(r_1), DIMENSION(:,:), POINTER :: taul <a name='166'>
    REAL(r_1), DIMENSION(:,:), POINTER :: froot  <font color=#447700>! fraction of root in each soil layer<a name='167'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='168'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vlaimax <font color=#447700>! ???<a name='169'></font>
  END TYPE veg_parameter_type<a name='170'>
<a name='171'>
  <font color=#447700>! Canopy/vegetation variables:<a name='172'></font>
  TYPE canopy_type<a name='173'>
       REAL(r_2), DIMENSION(:), POINTER :: fess   <font color=#447700>! latent heatfl from soil (W/m2)<a name='174'></font>
     REAL(r_2), DIMENSION(:), POINTER :: fesp   <font color=#447700>! latent heatfl from soil (W/m2)<a name='175'></font>
     REAL(r_1), DIMENSION(:), POINTER :: cansto <font color=#447700>! canopy water storage (mm)<a name='176'></font>
     REAL(r_1), DIMENSION(:), POINTER :: cduv  <font color=#447700>! drag coefficient for momentum<a name='177'></font>
     REAL(r_1), DIMENSION(:), POINTER :: delwc <font color=#447700>! change in canopy water store (mm/dels)<a name='178'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dewmm <font color=#447700>! dewfall (mm)<a name='179'></font>
     REAL(r_2), DIMENSION(:), POINTER :: dgdtg <font color=#447700>! derivative of gflux wrt soil temp<a name='180'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fe    <font color=#447700>! total latent heat (W/m2)<a name='181'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fh    <font color=#447700>! total sensible heat (W/m2)<a name='182'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fpn   <font color=#447700>! plant photosynthesis (g C s-1)<a name='183'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frp   <font color=#447700>! plant respiration (g C m-2 s-1)<a name='184'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frpw  <font color=#447700>! plant respiration (g C m-2 s-1)???<a name='185'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frpr  <font color=#447700>! plant respiration (g C m-2 s-1)???<a name='186'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frs   <font color=#447700>! soil respiration (g C m-2 s-1)<a name='187'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fnee  <font color=#447700>! net carbon flux (g C m-2 s-1)<a name='188'></font>
     REAL(r_1), DIMENSION(:), POINTER :: frday <font color=#447700>! daytime leaf resp<a name='189'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fnv   <font color=#447700>! net rad. avail. to canopy (W/m2)<a name='190'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fev   <font color=#447700>! latent hf from canopy (W/m2)<a name='191'></font>
     REAL(r_2), DIMENSION(:), POINTER :: fevc  <font color=#447700>! dry canopy transpiration (W/m2)<a name='192'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fhv   <font color=#447700>! sens heatfl from canopy (W/m2)<a name='193'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fns   <font color=#447700>! net rad avail to soil (W/m2)<a name='194'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fhs   <font color=#447700>! sensible heat flux from soil<a name='195'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ga    <font color=#447700>! ground heat flux (W/m2) ???<a name='196'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ghflux  <font color=#447700>! ground heat flux (W/m2) ???<a name='197'></font>
     REAL(r_1), DIMENSION(:), POINTER :: precis<font color=#447700>! throughfall to soil, after snow (mm)<a name='198'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qscrn <font color=#447700>! specific humudity at screen height (g/g)<a name='199'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rnet  <font color=#447700>! net radiation absorbed by surface (W/m2)<a name='200'></font>
     REAL(r_1), DIMENSION(:), POINTER :: segg  <font color=#447700>! latent heatfl from soil mm<a name='201'></font>
     REAL(r_1), DIMENSION(:), POINTER :: sghflux <font color=#447700>! ground heat flux (W/m2) ???<a name='202'></font>
     REAL(r_1), DIMENSION(:), POINTER :: through <font color=#447700>! canopy throughfall (mm)<a name='203'></font>
     REAL(r_1), DIMENSION(:), POINTER :: spill <font color=#447700>! can.storage excess after dewfall (mm)<a name='204'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tscrn <font color=#447700>! air temperature at screen height (oC)<a name='205'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wcint <font color=#447700>! canopy rainfall interception (mm)<a name='206'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tv    <font color=#447700>! vegetation temp (K)<a name='207'></font>
     REAL(r_1), DIMENSION(:), POINTER :: us    <font color=#447700>! friction velocity<a name='208'></font>
     REAL(r_1), DIMENSION(:), POINTER :: uscrn <font color=#447700>! wind speed at screen height (m/s)<a name='209'></font>
     REAL(r_1), DIMENSION(:), POINTER :: vlaiw  <font color=#447700>! lai adj for snow depth for calc of resistances<a name='210'></font>
     REAL(r_1), DIMENSION(:), POINTER :: rghlai  <font color=#447700>! lai adj for snow depth for calc of resistances<a name='211'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fwet   <font color=#447700>! fraction of canopy wet<a name='212'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: evapfbl<a name='213'>
<font color=#447700>!jhan:prev. def. in UM only<a name='214'></font>
     REAL(r_1), DIMENSION(:), POINTER :: epot  <font color=#447700>! total potential evaporation <a name='215'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fnpp  <font color=#447700>! npp flux<a name='216'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fevw_pot <font color=#447700>! potential lat heat from canopy<a name='217'></font>
     REAL(r_1), DIMENSION(:), POINTER :: gswx_T <font color=#447700>! ! stom cond for water<a name='218'></font>
     REAL(r_1), DIMENSION(:), POINTER :: gs_vs <font color=#447700>! ! stom cond for water<a name='219'></font>
     REAL(r_1), DIMENSION(:), POINTER :: cdtq  <font color=#447700>! drag coefficient for momentum<a name='220'></font>
     REAL(r_1), DIMENSION(:), POINTER :: wetfac_cs <font color=#447700>! <a name='221'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fevw  <font color=#447700>! lat heat fl wet canopy (W/m2)<a name='222'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fhvw  <font color=#447700>! sens heatfl from wet canopy (W/m2)<a name='223'></font>
     REAL(r_2), DIMENSION(:), POINTER :: fes   <font color=#447700>! latent heatfl from soil (W/m2)<a name='224'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: gswx <font color=#447700>! ! stom cond for water<a name='225'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: zetar <font color=#447700>! stability correction<a name='226'></font>
     REAL(r_1), DIMENSION(:), POINTER :: oldcansto <font color=#447700>! canopy water storage (mm)<a name='227'></font>
  END TYPE canopy_type<a name='228'>
<a name='229'>
<a name='230'>
  <font color=#447700>! Radiation variables:<a name='231'></font>
  TYPE radiation_type<a name='232'>
     REAL(r_1), DIMENSION(:,:), POINTER :: albedo <font color=#447700>! canopy+soil albedo<a name='233'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: extkb  <font color=#447700>! beam radiation extinction coeff<a name='234'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: extkd2 <font color=#447700>! diffuse 2D radiation extinction coeff<a name='235'></font>
     REAL(r_1), DIMENSION(:), POINTER ::  extkd <font color=#447700>! diffuse radiation extinction coeff (-)<a name='236'></font>
     REAL(r_1), DIMENSION(:), POINTER :: flws   <font color=#447700>! soil long-wave radiation<a name='237'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: fvlai  <font color=#447700>! leaf area index of big leaf<a name='238'></font>
     REAL(r_1), DIMENSION(:), POINTER :: latitude  <font color=#447700>! latitude<a name='239'></font>
     REAL(r_1), DIMENSION(:), POINTER :: lwabv <font color=#447700>! long wave absorbed by vegetation<a name='240'></font>
     REAL(r_1), DIMENSION(:,:,:), POINTER :: qcan <font color=#447700>! absorbed radiation for canopy (W/m^2)<a name='241'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: qssabs <font color=#447700>! absorbed short-wave radiation for soil<a name='242'></font>
     REAL(r_1), DIMENSION(:,:), POINTER ::  rhocdf <font color=#447700>! canopy diffuse reflectance (-)<a name='243'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: rniso  <font color=#447700>!  sum(rad%qcan, 3) total abs by canopy (W/m2)<a name='244'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: scalex <font color=#447700>! scaling PARAMETER for big leaf<a name='245'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: transd <font color=#447700>! frac SW diffuse transmitted through canopy<a name='246'></font>
     REAL(r_1), DIMENSION(:), POINTER ::  trad  <font color=#447700>!  radiative temperature (soil and veg)<a name='247'></font>
     REAL(r_1),DIMENSION(:,:), POINTER  :: reffdf  <font color=#447700>!effective conopy diffuse reflectance<a name='248'></font>
     REAL(r_1),DIMENSION(:,:), POINTER  :: reffbm  <font color=#447700>!effective conopy beam reflectance<a name='249'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: extkbm  <font color=#447700>!modified k beam(6.20)(for leaf scattering)<a name='250'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: extkdm  <font color=#447700>!modified k diffuse(6.20)(for leaf scattering)<a name='251'></font>
     REAL(r_1), DIMENSION(:,:), POINTER   :: fbeam   <font color=#447700>!beam fraction <a name='252'></font>
     REAL(r_1), DIMENSION(:,:), POINTER   :: cexpkbm <font color=#447700>! canopy beam transmittance<a name='253'></font>
     REAL(r_1), DIMENSION(:,:), POINTER   :: cexpkdm <font color=#447700>! canopy diffuse transmittance<a name='254'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: rhocbm  <font color=#447700>!modified canopy beam reflectance(6.21)<a name='255'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: transb  <font color=#447700>! fraction SW beam tranmitted through canopy<a name='256'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='257'></font>
     REAL(r_1), DIMENSION(:), POINTER :: albedo_T <font color=#447700>! canopy+soil albedo for VIS+NIR<a name='258'></font>
     REAL(r_1), DIMENSION(:,:), POINTER  :: gradis <font color=#447700>! radiative conductance<a name='259'></font>
     REAL(r_1), DIMENSION(:), POINTER :: longitude <font color=#447700>! longitude<a name='260'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: workp1 <font color=#447700>! absorbed short-wave radiation for soil<a name='261'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: workp2 <font color=#447700>! absorbed short-wave radiation for soil<a name='262'></font>
     REAL(r_1), DIMENSION(:), POINTER     :: workp3 <font color=#447700>! absorbed short-wave radiation for soil<a name='263'></font>
<font color=#447700>!    REAL(r_2), DIMENSION(:,:), POINTER  :: gradis ! radiative conductance<a name='264'></font>
  END TYPE radiation_type<a name='265'>
<a name='266'>
  <font color=#447700>! Roughness variables:<a name='267'></font>
  TYPE roughness_type<a name='268'>
     <font color=#447700>! "coexp": coefficient in exponential in-canopy wind profile<a name='269'></font>
     <font color=#447700>! U(z) = U(h)*exp(coexp*(z/h-1)), found by gradient-matching<a name='270'></font>
     <font color=#447700>! canopy and roughness-sublayer U(z) at z=h<a name='271'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: coexp <font color=#447700>! Extinction coef for wind profile in canopy<a name='272'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: disp  <font color=#447700>! zero-plane displacement<a name='273'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: hruff <font color=#447700>! canopy height above snow level<a name='274'></font>
     REAL(r_1), DIMENSION(:), POINTER :: hruff_grmx <font color=#447700>! max ht of canopy from tiles on same grid <a name='275'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: rt0us <font color=#447700>! eq. 3.54, SCAM manual (CSIRO tech report 132)<a name='276'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: rt1usa <font color=#447700>! resistance from disp to hruf<a name='277'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: rt1usb <font color=#447700>! resist fr hruf to zruffs (zref if zref&lt;zruffs)<a name='278'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: rt1 <font color=#447700>! 1/aerodynamic conductance<a name='279'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: term2, term3, term5, term6 <font color=#447700>! for aerodyn resist. calc.<a name='280'></font>
     <font color=#447700>! "usuh": us/uh (us=friction velocity, uh = mean velocity at z=h)<a name='281'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: usuh <font color=#447700>! Friction velocity/windspeed at canopy height<a name='282'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: za_uv   <font color=#447700>! level of lowest atmospheric model layer<a name='283'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: za_tq   <font color=#447700>! level of lowest atmospheric model layer<a name='284'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: z0m  <font color=#447700>! roughness length<a name='285'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: zref_uv <font color=#447700>! Reference height for met forcing<a name='286'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: zref_tq <font color=#447700>! Reference height for met forcing<a name='287'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: zruffs <font color=#447700>! SCALAR Roughness sublayer depth (ground=origin)<a name='288'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: z0soilsn <font color=#447700>! roughness length of bare soil surface<a name='289'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: z0soil <font color=#447700>! roughness length of bare soil surface<a name='290'></font>
  END TYPE roughness_type<a name='291'>
<a name='292'>
  <font color=#447700>! Air variables:<a name='293'></font>
  TYPE air_type<a name='294'>
    REAL(r_1), DIMENSION(:), POINTER :: rho  <font color=#447700>! dry air density (kg m-3)<a name='295'></font>
    REAL(r_1), DIMENSION(:), POINTER :: volm <font color=#447700>! molar volume (m3 mol-1)<a name='296'></font>
    REAL(r_1), DIMENSION(:), POINTER :: rlam <font color=#447700>! latent heat for water (j/kg)<a name='297'></font>
    REAL(r_1), DIMENSION(:), POINTER :: qsat <font color=#447700>! saturation specific humidity<a name='298'></font>
    REAL(r_1), DIMENSION(:), POINTER :: epsi <font color=#447700>! d(qsat)/dT ((kg/kg)/K)<a name='299'></font>
    REAL(r_1), DIMENSION(:), POINTER :: visc <font color=#447700>! air kinematic viscosity (m2/s)<a name='300'></font>
    REAL(r_1), DIMENSION(:), POINTER :: psyc <font color=#447700>! psychrometric constant<a name='301'></font>
    REAL(r_1), DIMENSION(:), POINTER :: dsatdk <font color=#447700>! d(es)/dT (mb/K)<a name='302'></font>
    REAL(r_1), DIMENSION(:), POINTER :: cmolar <font color=#447700>! conv. from m/s to mol/m2/s<a name='303'></font>
  END TYPE air_type<a name='304'>
<a name='305'>
<a name='306'>
  <font color=#447700>! Meterological data:<a name='307'></font>
  TYPE met_type<a name='308'>
     REAL(r_1), DIMENSION(:), POINTER :: ca   <font color=#447700>! CO2 concentration (mol/mol)<a name='309'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: year <font color=#447700>! local time year AD <a name='310'></font>
     INTEGER(i_d), DIMENSION(:), POINTER :: moy  <font color=#447700>! local time month of year <a name='311'></font>
     REAL(r_1), DIMENSION(:), POINTER :: doy  <font color=#447700>! local time day of year = days since 0 hr 1st Jan <a name='312'></font>
     REAL(r_1), DIMENSION(:), POINTER :: hod  <font color=#447700>! local hour of day<a name='313'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: fsd  <font color=#447700>! downward short-wave radiation (W/m2)<a name='314'></font>
     REAL(r_1), DIMENSION(:), POINTER :: fld  <font color=#447700>! downward long-wave radiation (W/m2)<a name='315'></font>
     REAL(r_1), DIMENSION(:), POINTER :: precip  <font color=#447700>! rainfall (liquid+solid)(mm/dels)<a name='316'></font>
     REAL(r_1), DIMENSION(:), POINTER :: precip_sn <font color=#447700>! solid preipitation only (mm/dels)<a name='317'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tk      <font color=#447700>! surface air temperature (oK)<a name='318'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tvair   <font color=#447700>! within canopy air temperature (oK)<a name='319'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tvrad   <font color=#447700>! radiative vegetation temperature (K)<a name='320'></font>
     REAL(r_1), DIMENSION(:), POINTER :: pmb     <font color=#447700>! surface air pressure (mbar)<a name='321'></font>
     REAL(r_1), DIMENSION(:), POINTER :: ua      <font color=#447700>! surface wind speed (m/s)<a name='322'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qv      <font color=#447700>! surface specific humidity (g/g)<a name='323'></font>
     REAL(r_1), DIMENSION(:), POINTER :: qvair   <font color=#447700>! within canopy specific humidity (g/g)<a name='324'></font>
     REAL(r_1), DIMENSION(:), POINTER :: da      <font color=#447700>! water vap pressure deficit at ref height (Pa)<a name='325'></font>
     REAL(r_1), DIMENSION(:), POINTER :: dva     <font color=#447700>! in canopy water vap pressure deficit (Pa)<a name='326'></font>
     REAL(r_1), DIMENSION(:), POINTER :: coszen  <font color=#447700>! cos(zenith angle of sun)<a name='327'></font>
<font color=#447700>!jhan:prev. def. in UM only<a name='328'></font>
     REAL(r_1), DIMENSION(:), POINTER :: tc      <font color=#447700>! surface air temperature (oC)<a name='329'></font>
  END TYPE met_type<a name='330'>
<a name='331'>
  <font color=#447700>! Cumulative flux variables:<a name='332'></font>
  TYPE sum_flux_type<a name='333'>
     REAL(r_1), DIMENSION(:), POINTER   :: sumpn  <font color=#447700>! sum of canopy photosynthesis (g C m-2)<a name='334'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumrp  <font color=#447700>! sum of plant respiration (g C m-2)<a name='335'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumrpw <font color=#447700>! sum of plant respiration (g C m-2)<a name='336'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumrpr <font color=#447700>! sum of plant respiration (g C m-2)<a name='337'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumrs  <font color=#447700>! sum of soil respiration (g C m-2)<a name='338'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumrd  <font color=#447700>! sum of daytime respiration (g C m-2)<a name='339'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: dsumpn <font color=#447700>! daily sumpn<a name='340'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: dsumrp <font color=#447700>! daily sumrp<a name='341'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: dsumrs <font color=#447700>! daily sumrs<a name='342'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: dsumrd <font color=#447700>! daily sumrd<a name='343'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumxrp <font color=#447700>! sum plant resp. modifier<a name='344'></font>
     REAL(r_1), DIMENSION(:), POINTER   :: sumxrs <font color=#447700>! sum soil resp. modifier<a name='345'></font>
  END TYPE sum_flux_type<a name='346'>
<a name='347'>
  TYPE bgc_pool_type<a name='348'>
     REAL(r_1), DIMENSION(:,:), POINTER :: cplant <font color=#447700>! plant carbon (g C/m2))<a name='349'></font>
     REAL(r_1), DIMENSION(:,:), POINTER :: csoil  <font color=#447700>! soil carbon (g C/m2)<a name='350'></font>
     REAL(r_1), DIMENSION(ncp)  :: ratecp <font color=#447700>! plant carbon rate constant (1/year)<a name='351'></font>
     REAL(r_1), DIMENSION(ncs)  :: ratecs <font color=#447700>! soil carbon rate constant (1/year)<a name='352'></font>
  END TYPE bgc_pool_type<a name='353'>
<a name='354'>
  <font color=#447700>! Functions for allocating these types<a name='355'></font>
  <font color=#447700>! All overloaded so code only needs to call alloc_cbm_var<a name='356'></font>
  <font color=#447700>! Alloc routines could all initialise to NaN or zero for debugging?<a name='357'></font>
  <font color=#447700>! Don't need the mp argument here as it's a module variable.<a name='358'></font>
  PUBLIC :: alloc_cbm_var<a name='359'>
  PRIVATE :: alloc_bgc_pool_type, dealloc_bgc_pool_type<a name='360'>
<A NAME='ALLOC_CBM_VAR'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_CBM_VAR' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='361'>
  <font color=#993300>INTERFACE </font><font color=#cc0000>alloc_cbm_var</font><a name='362'>
     MODULE PROCEDURE <A href='../../html_code/common/cable_define_types.F90.html#ALLOC_BALANCES_TYPE'>alloc_balances_type</A><A NAME="ALLOC_BALANCES_TYPE_1"><A href='../../html_code/common/cable_define_types.F90.html#DEFINE_TYPES' TARGET='bottom_target'><IMG SRC="../../gif/cyan.gif" border=0></a><a name='363'>
          alloc_soil_parameter_type,      &amp;<a name='364'>
          alloc_soil_snow_type,           &amp;<a name='365'>
          alloc_veg_parameter_type,       &amp;<a name='366'>
          alloc_canopy_type,              &amp;<a name='367'>
          alloc_radiation_type,           &amp;<a name='368'>
          alloc_roughness_type,           &amp;<a name='369'>
          alloc_air_type,                 &amp;<a name='370'>
          alloc_met_type,                 &amp;<a name='371'>
          alloc_sum_flux_type,            &amp;<a name='372'>
          alloc_bgc_pool_type            <a name='373'>
  END INTERFACE<a name='374'>
<A NAME='DEALLOC_CBM_VAR'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_CBM_VAR' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='375'>
  <font color=#993300>INTERFACE </font><font color=#cc0000>dealloc_cbm_var</font><a name='376'>
     MODULE PROCEDURE <A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_BALANCES_TYPE'>dealloc_balances_type</A><A NAME="DEALLOC_BALANCES_TYPE_1"><A href='../../html_code/common/cable_define_types.F90.html#DEFINE_TYPES' TARGET='bottom_target'><IMG SRC="../../gif/cyan.gif" border=0></a><a name='377'>
          dealloc_soil_parameter_type,      &amp;<a name='378'>
          dealloc_soil_snow_type,           &amp;<a name='379'>
          dealloc_veg_parameter_type,       &amp;<a name='380'>
          dealloc_canopy_type,              &amp;<a name='381'>
          dealloc_radiation_type,           &amp;<a name='382'>
          dealloc_roughness_type,           &amp;<a name='383'>
          dealloc_air_type,                 &amp;<a name='384'>
          dealloc_met_type,                 &amp;<a name='385'>
          dealloc_sum_flux_type,            &amp;<a name='386'>
          dealloc_bgc_pool_type            <a name='387'>
  END INTERFACE<a name='388'>
CONTAINS<a name='389'>
  <a name='390'>
<A NAME='ALLOC_BALANCES_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_BALANCES_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='391'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_balances_type</font>(var, mp) <A href='../../call_to/ALLOC_BALANCES_TYPE.html' TARGET='index'>1</A><a name='392'>
      TYPE(balances_type), INTENT(inout) :: var<a name='393'>
      INTEGER, INTENT(in) :: mp<a name='394'>
         allocate( var% drybal(mp) ) <a name='395'>
         allocate( var% ebal(mp) )  <a name='396'>
         allocate( var% ebal_tot(mp) )<a name='397'>
         allocate( var% evap_tot(mp) )<a name='398'>
         allocate( var% osnowd0(mp) )<a name='399'>
         allocate( var% precip_tot(mp) )<a name='400'>
         allocate( var% rnoff_tot(mp) )<a name='401'>
         allocate( var% wbal(mp) )   <a name='402'>
         allocate( var% wbal_tot(mp) )<a name='403'>
         allocate( var% wbtot0(mp) ) <a name='404'>
         allocate( var% wetbal(mp) )<a name='405'>
         allocate( var% cansto0(mp) ) <a name='406'>
         allocate( var% evapc_tot(mp) ) <a name='407'>
         allocate( var% evaps_tot(mp) ) <a name='408'>
         allocate( var% rnof1_tot(mp) ) <a name='409'>
         allocate( var% rnof2_tot(mp) ) <a name='410'>
         allocate( var% snowdc_tot(mp) )<a name='411'>
         allocate( var% wbal_tot1(mp) ) <a name='412'>
         allocate( var% owbtot(mp) ) <a name='413'>
         allocate( var% delwc_tot(mp) ) <a name='414'>
         allocate( var% qasrf_tot(mp) )<a name='415'>
         allocate( var% qfsrf_tot(mp) ) <a name='416'>
         allocate( var% qssrf_tot(mp) ) <a name='417'>
      return<a name='418'>
   END SUBROUTINE alloc_balances_type<a name='419'>
<a name='420'>
<A NAME='ALLOC_SOIL_PARAMETER_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_SOIL_PARAMETER_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='421'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_soil_parameter_type</font>(var, mp)<a name='422'>
      TYPE(soil_parameter_type), INTENT(inout) :: var<a name='423'>
      INTEGER, INTENT(in) :: mp<a name='424'>
         allocate( var% bch(mp) )   <a name='425'>
         allocate( var% c3(mp) )    <a name='426'>
         allocate( var% clay(mp) )  <a name='427'>
         allocate( var% css(mp) )   <a name='428'>
         allocate( var% hsbh(mp) )  <a name='429'>
         allocate( var% hyds(mp) )  <a name='430'>
         allocate( var% i2bp3(mp) ) <a name='431'>
         allocate( var% ibp2(mp) )  <a name='432'>
         allocate( var% isoilm(mp) )  <a name='433'>
         allocate( var% rhosoil(mp) )  <a name='434'>
         allocate( var% rs20(mp) )   <a name='435'>
         allocate( var% sand(mp) )   <a name='436'>
         allocate( var% sfc(mp) )   <a name='437'>
         allocate( var% silt(mp) )   <a name='438'>
         allocate( var% ssat(mp) )   <a name='439'>
         allocate( var% sucs(mp) )   <a name='440'>
         allocate( var% swilt(mp) )  <a name='441'>
         allocate( var% zse(ms) )    <a name='442'>
         allocate( var% zshh(ms+1) )  <a name='443'>
         allocate( var% cnsd(mp) )  <a name='444'>
         allocate( var% albsoil(mp, nrb) )  <a name='445'>
         allocate( var% pwb_min(mp) )  <a name='446'>
         allocate( var% albsoilf(mp) )  <a name='447'>
      return<a name='448'>
   END SUBROUTINE alloc_soil_parameter_type<a name='449'>
 <a name='450'>
<A NAME='ALLOC_SOIL_SNOW_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_SOIL_SNOW_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='451'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_soil_snow_type</font>(var, mp)<a name='452'>
      TYPE(soil_snow_type), INTENT(inout) :: var<a name='453'>
      INTEGER, INTENT(in) :: mp<a name='454'>
          ALLOCATE ( var % iantrct(mp) )<a name='455'>
    ALLOCATE ( var % pudsto(mp) )<a name='456'>
    ALLOCATE ( var % pudsmx(mp) )<a name='457'>
    ALLOCATE ( var % dtmlt(mp,3) )<a name='458'>
         allocate( var% albsoilsn(mp,nrb) ) <a name='459'>
         allocate( var% cls(mp) )     <a name='460'>
         allocate( var% dfn_dtg(mp) ) <a name='461'>
         allocate( var% dfh_dtg(mp) ) <a name='462'>
         allocate( var% dfe_ddq(mp) ) <a name='463'>
         allocate( var% ddq_dtg(mp) ) <a name='464'>
         allocate( var% evapsn(mp) )  <a name='465'>
         allocate( var% fwtop(mp) )   <a name='466'>
         allocate( var% fwtop1(mp) )   <a name='467'>
         allocate( var% fwtop2(mp) )   <a name='468'>
         allocate( var% fwtop3(mp) )   <a name='469'>
         allocate( var% gammzz(mp,ms) ) <a name='470'>
         allocate( var% isflag(mp) ) <a name='471'>
         allocate( var% osnowd(mp) ) <a name='472'>
         allocate( var% potev(mp) ) <a name='473'>
         allocate( var% runoff(mp) )<a name='474'>
         allocate( var% rnof1(mp) ) <a name='475'>
         allocate( var% rnof2(mp) ) <a name='476'>
         allocate( var% rtsoil(mp) )<a name='477'>
         allocate( var% sconds(mp,msn) ) <a name='478'>
         allocate( var% sdepth(mp,msn) ) <a name='479'>
         allocate( var% smass(mp,msn) ) <a name='480'>
         allocate( var% snage(mp) )  <a name='481'>
         allocate( var% snowd(mp) )  <a name='482'>
         allocate( var% smelt(mp) )  <a name='483'>
         allocate( var% ssdn(mp,msn) ) <a name='484'>
         allocate( var% ssdnn(mp) ) <a name='485'>
         allocate( var% tgg(mp,ms) )   <a name='486'>
         allocate( var% tggsn(mp,msn) ) <a name='487'>
         allocate( var% tss(mp) )   <a name='488'>
         allocate( var% owb1(mp) )   <a name='489'>
         allocate( var% wb(mp,ms) )    <a name='490'>
         allocate( var% wbice(mp,ms) ) <a name='491'>
         allocate( var% wblf(mp,ms) ) <a name='492'>
         allocate( var%wbtot(mp) )    <a name='493'>
         allocate( var%wbtot1(mp) )    <a name='494'>
         allocate( var%wbtot2(mp) )    <a name='495'>
         allocate( var%wb_lake(mp) )    <a name='496'>
         allocate( var%sinfil(mp) )    <a name='497'>
         allocate( var%evapfbl(mp,ms) )    <a name='498'>
         allocate( var%qstss(mp) )    <a name='499'>
         allocate( var%wetfac(mp) )  <a name='500'>
         allocate( var%owetfac(mp) )  <a name='501'>
         allocate( var%t_snwlr(mp) )  <a name='502'>
         allocate( var%wbfice(mp,ms) )  <a name='503'>
         allocate( var%tggav(mp) )  <a name='504'>
         allocate( var%otgg(mp) )   <a name='505'>
         allocate( var%otss(mp) )   <a name='506'>
         allocate( var%tprecip(mp) ) <a name='507'>
         allocate( var%tevap(mp) ) <a name='508'>
         allocate( var%trnoff(mp) ) <a name='509'>
         allocate( var%totenbal(mp) ) <a name='510'>
         allocate( var%totenbal2(mp) ) <a name='511'>
         allocate( var%fland(mp) )      <a name='512'>
         allocate( var%ifland(mp) )  <a name='513'>
         allocate( var%tilefrac(mp,n_tiles) ) <a name='514'>
         allocate( var%qasrf(mp) )  <a name='515'>
         allocate( var%qfsrf(mp) )  <a name='516'>
         allocate( var%qssrf(mp) )  <a name='517'>
  END SUBROUTINE alloc_soil_snow_type<a name='518'>
   <a name='519'>
<A NAME='ALLOC_VEG_PARAMETER_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_VEG_PARAMETER_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='520'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_veg_parameter_type</font>(var, mp)<a name='521'>
      TYPE(veg_parameter_type), INTENT(inout) :: var<a name='522'>
      INTEGER, INTENT(in) :: mp<a name='523'>
         allocate( var% canst1(mp) ) <a name='524'>
         allocate( var% dleaf(mp) )  <a name='525'>
         allocate( var% ejmax(mp) ) <a name='526'>
         allocate( var% iveg(mp) ) <a name='527'>
         allocate( var% meth(mp) ) <a name='528'>
         allocate( var% frac4(mp) )  <a name='529'>
         allocate( var% hc(mp) )     <a name='530'>
         allocate( var% vlai(mp) )   <a name='531'>
         allocate( var% xalbnir(mp) ) <a name='532'>
         allocate( var% rp20(mp) )   <a name='533'>
         allocate( var% rpcoef(mp) ) <a name='534'>
         allocate( var% shelrb(mp) ) <a name='535'>
         allocate( var% vegcf(mp) )  <a name='536'>
         allocate( var% tminvj(mp) ) <a name='537'>
         allocate( var% tmaxvj(mp) ) <a name='538'>
         allocate( var% vbeta(mp) )  <a name='539'>
         allocate( var% vcmax(mp) )  <a name='540'>
         allocate( var% xfang(mp) )  <a name='541'>
         allocate( var%extkn(mp) ) <a name='542'>
         allocate( var%wai(mp) )   <a name='543'>
         allocate( var%deciduous(mp) ) <a name='544'>
         allocate( var%froot(mp,ms) ) <a name='545'>
         allocate( var%refl(mp,2) ) <font color=#447700>!jhan:swb?<a name='546'></font>
         allocate( var%taul(mp,2) ) <a name='547'>
         allocate( var%vlaimax(mp) ) <a name='548'>
      return      <a name='549'>
   end SUBROUTINE alloc_veg_parameter_type<a name='550'>
   <a name='551'>
<A NAME='ALLOC_CANOPY_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_CANOPY_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='552'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_canopy_type</font>(var, mp),<A href='../../call_from/ALLOC_CANOPY_TYPE.html' TARGET='index'>1</A><a name='553'>
      USE <A href='../../html_code/common/cable_physical_constants.F90.html#PHYSICAL_CONSTANTS'>physical_constants</A><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_CANOPY_TYPE' TARGET='bottom_target'><IMG SRC="../../gif/cyan.gif" border=0></a><A NAME="PHYSICAL_CONSTANTS_1">, only : niter<a name='554'>
      TYPE(canopy_type), INTENT(inout) :: var<a name='555'>
      INTEGER, INTENT(in) :: mp<a name='556'>
          ALLOCATE ( var % fess(mp) )<a name='557'>
    ALLOCATE ( var % fesp(mp) )<a name='558'>
         allocate( var% cansto(mp) )  <a name='559'>
         allocate( var% cduv(mp) )   <a name='560'>
         allocate( var% delwc(mp) )  <a name='561'>
         allocate( var% dewmm(mp) )  <a name='562'>
         allocate( var% dgdtg(mp) )  <a name='563'>
         allocate( var% fe(mp) )      <a name='564'>
         allocate( var% fh(mp) )      <a name='565'>
         allocate( var% fpn(mp) )     <a name='566'>
         allocate( var% frp(mp) )     <a name='567'>
         allocate( var% frpw(mp) )    <a name='568'>
         allocate( var% frpr(mp) )    <a name='569'>
         allocate( var% frs(mp) )     <a name='570'>
         allocate( var% fnee(mp) )    <a name='571'>
         allocate( var% frday(mp) )   <a name='572'>
         allocate( var% fnv(mp) )     <a name='573'>
         allocate( var% fev(mp) )     <a name='574'>
         allocate( var% fevc(mp) )    <a name='575'>
         allocate( var% fhv(mp) )     <a name='576'>
         allocate( var% fns(mp) )     <a name='577'>
         allocate( var% fhs(mp) )     <a name='578'>
         allocate( var% ga(mp) )      <a name='579'>
         allocate( var% ghflux(mp) )   <a name='580'>
         allocate( var% precis(mp) ) <a name='581'>
         allocate( var% qscrn(mp) )  <a name='582'>
         allocate( var% rnet(mp) )   <a name='583'>
         allocate( var% segg(mp) )   <a name='584'>
         allocate( var% sghflux(mp) )  <a name='585'>
         allocate( var% through(mp) )  <a name='586'>
         allocate( var% spill(mp) )  <a name='587'>
         allocate( var% tscrn(mp) )  <a name='588'>
         allocate( var% wcint(mp) )  <a name='589'>
         allocate( var% tv(mp) )      <a name='590'>
         allocate( var% us(mp) )      <a name='591'>
         allocate( var% uscrn(mp) )   <a name='592'>
         allocate( var% rghlai(mp) ) <a name='593'>
         allocate( var% vlaiw(mp) ) <a name='594'>
         allocate( var% fwet(mp) )   <a name='595'>
    ALLOCATE ( var % evapfbl(mp,ms) )<a name='596'>
         allocate( var% epot(mp) )   <a name='597'>
         allocate( var% fnpp(mp) )   <a name='598'>
         allocate( var% fevw_pot(mp) )  <a name='599'>
         allocate( var% gswx_T(mp) )  <a name='600'>
         allocate( var% cdtq(mp) )   <a name='601'>
         allocate( var% wetfac_cs(mp) )  <a name='602'>
         allocate( var% fevw(mp) )   <a name='603'>
         allocate( var% fhvw(mp) )   <a name='604'>
         allocate( var% fes(mp) )    <a name='605'>
         allocate( var% gswx(mp,mf) )  <a name='606'>
         allocate( var% oldcansto(mp) )  <a name='607'>
         allocate( var% zetar(mp,niter) )  <a name='608'>
      return<a name='609'>
   END SUBROUTINE alloc_canopy_type<a name='610'>
   <a name='611'>
<A NAME='ALLOC_RADIATION_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_RADIATION_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='612'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_radiation_type</font>(var, mp)<a name='613'>
    TYPE(radiation_type), INTENT(inout) :: var<a name='614'>
    INTEGER, INTENT(in) :: mp<a name='615'>
         allocate( var% albedo(mp,nrb) ) <a name='616'>
         allocate( var% extkb(mp) )  <a name='617'>
         allocate( var% extkd2(mp) )<a name='618'>
         allocate( var% extkd(mp) )<a name='619'>
         allocate( var% flws(mp) )<a name='620'>
         allocate( var% fvlai(mp,mf) )<a name='621'>
         allocate( var% latitude(mp) )<a name='622'>
         allocate( var% lwabv(mp) )<a name='623'>
         allocate( var% qcan(mp,mf,nrb) )<a name='624'>
         allocate( var% qssabs(mp) )<a name='625'>
         allocate( var% rhocdf(mp,nrb) )<a name='626'>
         allocate( var% rniso(mp,mf) )<a name='627'>
         allocate( var% scalex(mp,mf) )<a name='628'>
         allocate( var% transd(mp) )<a name='629'>
         allocate( var% trad(mp) )<a name='630'>
         allocate( var% reffdf(mp,nrb) )<a name='631'>
         allocate( var% reffbm(mp,nrb) )<a name='632'>
         allocate( var% extkbm(mp,nrb) )<a name='633'>
         allocate( var% extkdm(mp,nrb) )<a name='634'>
         allocate( var% cexpkbm(mp,swb) )<a name='635'>
         allocate( var% cexpkdm(mp,swb) )<a name='636'>
         allocate( var% fbeam(mp,nrb) )<a name='637'>
         allocate( var% rhocbm(mp,nrb) )<a name='638'>
         allocate( var% transb(mp) )<a name='639'>
         allocate( var% albedo_T(mp) )<a name='640'>
         allocate( var% gradis(mp,mf) )<a name='641'>
         allocate( var% longitude(mp) )<a name='642'>
         allocate( var% workp1(mp) )<a name='643'>
         allocate( var% workp2(mp) )<a name='644'>
         allocate( var% workp3(mp) )<a name='645'>
      return<a name='646'>
   END SUBROUTINE alloc_radiation_type<a name='647'>
   <a name='648'>
<A NAME='ALLOC_ROUGHNESS_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_ROUGHNESS_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='649'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_roughness_type</font>(var, mp)<a name='650'>
    TYPE(roughness_type), INTENT(inout) :: var<a name='651'>
    INTEGER, INTENT(in) :: mp<a name='652'>
<a name='653'>
    ALLOCATE ( var % coexp(mp) )<a name='654'>
    ALLOCATE ( var % disp(mp) )<a name='655'>
    ALLOCATE ( var % hruff(mp) )<a name='656'>
    ALLOCATE ( var % hruff_grmx(mp) )<a name='657'>
    ALLOCATE ( var % rt0us(mp) )<a name='658'>
    ALLOCATE ( var % rt1usa(mp) )<a name='659'>
    ALLOCATE ( var % rt1usb(mp) )<a name='660'>
    ALLOCATE ( var % rt1(mp) )<a name='661'>
    ALLOCATE ( var % term2(mp) )<a name='662'>
    ALLOCATE ( var % term3(mp) )<a name='663'>
    ALLOCATE ( var % term5(mp) )<a name='664'>
    ALLOCATE ( var % term6(mp) )<a name='665'>
    ALLOCATE ( var % usuh(mp) )<a name='666'>
    ALLOCATE ( var % za_uv(mp) )<a name='667'>
    ALLOCATE ( var % za_tq(mp) )<a name='668'>
    ALLOCATE ( var % z0m(mp) )<a name='669'>
    ALLOCATE ( var % zref_uv(mp) )<a name='670'>
    ALLOCATE ( var % zref_tq(mp) )<a name='671'>
    ALLOCATE ( var % zruffs(mp) )<a name='672'>
    ALLOCATE ( var % z0soilsn(mp) )<a name='673'>
    ALLOCATE ( var % z0soil(mp) )<a name='674'>
  END SUBROUTINE alloc_roughness_type<a name='675'>
   <a name='676'>
<A NAME='ALLOC_AIR_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_AIR_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='677'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_air_type</font>(var, mp)<a name='678'>
    TYPE(air_type), INTENT(inout) :: var<a name='679'>
    INTEGER, INTENT(in) :: mp<a name='680'>
    ALLOCATE ( var % rho(mp) )<a name='681'>
    ALLOCATE ( var % volm(mp) )<a name='682'>
    ALLOCATE ( var % rlam(mp) )<a name='683'>
    ALLOCATE ( var % qsat(mp) )<a name='684'>
    ALLOCATE ( var % epsi(mp) )<a name='685'>
    ALLOCATE ( var % visc(mp) )<a name='686'>
    ALLOCATE ( var % psyc(mp) )<a name='687'>
    ALLOCATE ( var % dsatdk(mp) )<a name='688'>
    ALLOCATE ( var % cmolar(mp) )<a name='689'>
  END SUBROUTINE alloc_air_type<a name='690'>
 <a name='691'>
  <a name='692'>
<A NAME='ALLOC_MET_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_MET_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='693'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_met_type</font>(var, mp)<a name='694'>
    TYPE(met_type), INTENT(inout) :: var<a name='695'>
    INTEGER, INTENT(in) :: mp<a name='696'>
    ALLOCATE ( var % ca(mp) )<a name='697'>
    ALLOCATE ( var % year(mp) )<a name='698'>
    ALLOCATE ( var % moy(mp) )<a name='699'>
    ALLOCATE ( var % doy(mp) )<a name='700'>
    ALLOCATE ( var % hod(mp) )<a name='701'>
    ALLOCATE ( var % fsd(mp,swb) ) <a name='702'>
    ALLOCATE ( var % fld(mp) )<a name='703'>
    ALLOCATE ( var % precip(mp) )<a name='704'>
    ALLOCATE ( var % precip_sn(mp) )<a name='705'>
    ALLOCATE ( var % tk(mp) )<a name='706'>
    ALLOCATE ( var % tvair(mp) )<a name='707'>
    ALLOCATE ( var % tvrad(mp) )<a name='708'>
    ALLOCATE ( var % pmb(mp) )<a name='709'>
    ALLOCATE ( var % ua(mp) )<a name='710'>
    ALLOCATE ( var % qv(mp) )<a name='711'>
    ALLOCATE ( var % qvair(mp) )<a name='712'>
    ALLOCATE ( var % da(mp) )<a name='713'>
    ALLOCATE ( var % dva(mp) )<a name='714'>
    ALLOCATE ( var % coszen(mp) )<a name='715'>
  END SUBROUTINE alloc_met_type<a name='716'>
   <a name='717'>
<A NAME='ALLOC_SUM_FLUX_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_SUM_FLUX_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='718'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_sum_flux_type</font>(var, mp)<a name='719'>
    TYPE(sum_flux_type), INTENT(inout) :: var<a name='720'>
    INTEGER, INTENT(in) :: mp<a name='721'>
    ALLOCATE ( var % sumpn(mp) )<a name='722'>
    ALLOCATE ( var % sumrp(mp) )<a name='723'>
    ALLOCATE ( var % sumrpw(mp) )<a name='724'>
    ALLOCATE ( var % sumrpr(mp) )<a name='725'>
    ALLOCATE ( var % sumrs(mp) )<a name='726'>
    ALLOCATE ( var % sumrd(mp) )<a name='727'>
    ALLOCATE ( var % dsumpn(mp) )<a name='728'>
    ALLOCATE ( var % dsumrp(mp) )<a name='729'>
    ALLOCATE ( var % dsumrs(mp) )<a name='730'>
    ALLOCATE ( var % dsumrd(mp) )<a name='731'>
    ALLOCATE ( var % sumxrp(mp) )<a name='732'>
    ALLOCATE ( var % sumxrs(mp) )<a name='733'>
  END SUBROUTINE alloc_sum_flux_type<a name='734'>
<a name='735'>
<A NAME='ALLOC_BGC_POOL_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#ALLOC_BGC_POOL_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='736'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>alloc_bgc_pool_type</font>(var, mp)<a name='737'>
    TYPE(bgc_pool_type), INTENT(inout) :: var<a name='738'>
    INTEGER, INTENT(in) :: mp<a name='739'>
    ALLOCATE ( var % cplant(mp,ncp) )<a name='740'>
    ALLOCATE ( var % csoil(mp,ncs) )<a name='741'>
  END SUBROUTINE alloc_bgc_pool_type<a name='742'>
<a name='743'>
  <font color=#447700>! Begin deallocation routines:<a name='744'></font>
<A NAME='DEALLOC_BALANCES_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_BALANCES_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='745'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_balances_type</font>(var, mp) <A href='../../call_to/DEALLOC_BALANCES_TYPE.html' TARGET='index'>1</A><a name='746'>
    TYPE(balances_type), INTENT(inout) :: var<a name='747'>
    INTEGER, INTENT(in) :: mp<a name='748'>
         deallocate( var% drybal ) <a name='749'>
         deallocate( var% ebal )  <a name='750'>
         deallocate( var% ebal_tot )<a name='751'>
         deallocate( var% evap_tot)<a name='752'>
         deallocate( var% osnowd0 )<a name='753'>
         deallocate( var% precip_tot )<a name='754'>
         deallocate( var% rnoff_tot )<a name='755'>
         deallocate( var% wbal )   <a name='756'>
         deallocate( var% wbal_tot )<a name='757'>
         deallocate( var% wbtot0 ) <a name='758'>
         deallocate( var% wetbal )<a name='759'>
         deallocate( var% cansto0 ) <a name='760'>
         deallocate( var% evapc_tot ) <a name='761'>
         deallocate( var% evaps_tot ) <a name='762'>
         deallocate( var% rnof1_tot ) <a name='763'>
         deallocate( var% rnof2_tot ) <a name='764'>
         deallocate( var% snowdc_tot )<a name='765'>
         deallocate( var% wbal_tot1 ) <a name='766'>
         deallocate( var% owbtot ) <a name='767'>
         deallocate( var% delwc_tot ) <a name='768'>
         deallocate( var% qasrf_tot )<a name='769'>
         deallocate( var% qfsrf_tot ) <a name='770'>
         deallocate( var% qssrf_tot ) <a name='771'>
      return<a name='772'>
  END SUBROUTINE dealloc_balances_type<a name='773'>
<a name='774'>
<A NAME='DEALLOC_SOIL_PARAMETER_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_SOIL_PARAMETER_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='775'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_soil_parameter_type</font>(var, mp)<a name='776'>
    TYPE(soil_parameter_type), INTENT(inout) :: var<a name='777'>
    INTEGER, INTENT(in) :: mp<a name='778'>
         deallocate( var% bch )   <a name='779'>
         deallocate( var% c3 )    <a name='780'>
         deallocate( var% clay )  <a name='781'>
         deallocate( var% css )   <a name='782'>
         deallocate( var% hsbh )  <a name='783'>
         deallocate( var% hyds )  <a name='784'>
         deallocate( var% i2bp3 ) <a name='785'>
         deallocate( var% ibp2 )  <a name='786'>
         deallocate( var% isoilm )  <a name='787'>
         deallocate( var% rhosoil )  <a name='788'>
         deallocate( var% rs20 )   <a name='789'>
         deallocate( var% sand )   <a name='790'>
         deallocate( var% sfc )   <a name='791'>
         deallocate( var% silt )   <a name='792'>
         deallocate( var% ssat )   <a name='793'>
         deallocate( var% sucs )   <a name='794'>
         deallocate( var% swilt )  <a name='795'>
         deallocate( var% zse )    <a name='796'>
         deallocate( var% zshh )  <a name='797'>
         deallocate( var% cnsd )  <a name='798'>
         deallocate( var% albsoil )  <a name='799'>
         deallocate( var% cnsd )  <a name='800'>
         deallocate( var% pwb_min)  <a name='801'>
         deallocate( var% albsoilf )  <a name='802'>
      return<a name='803'>
  END SUBROUTINE dealloc_soil_parameter_type<a name='804'>
 <a name='805'>
<A NAME='DEALLOC_SOIL_SNOW_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_SOIL_SNOW_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='806'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_soil_snow_type</font>(var, mp)<a name='807'>
    TYPE(soil_snow_type), INTENT(inout) :: var<a name='808'>
    INTEGER, INTENT(in) :: mp<a name='809'>
          deALLOCATE ( var % iantrct )<a name='810'>
    deALLOCATE ( var % pudsto )<a name='811'>
    deALLOCATE ( var % pudsmx )<a name='812'>
    deALLOCATE ( var % dtmlt )<a name='813'>
<a name='814'>
         deallocate( var% albsoilsn ) <a name='815'>
         deallocate( var% cls )     <a name='816'>
         deallocate( var% dfn_dtg ) <a name='817'>
         deallocate( var% dfh_dtg ) <a name='818'>
         deallocate( var% dfe_ddq ) <a name='819'>
         deallocate( var% ddq_dtg ) <a name='820'>
         deallocate( var% evapsn )  <a name='821'>
         deallocate( var% fwtop )   <a name='822'>
         deallocate( var% fwtop1 )   <a name='823'>
         deallocate( var% fwtop2 )   <a name='824'>
         deallocate( var% fwtop3 )   <a name='825'>
         deallocate( var% gammzz ) <a name='826'>
         deallocate( var% isflag ) <a name='827'>
         deallocate( var% osnowd ) <a name='828'>
         deallocate( var% potev ) <a name='829'>
         deallocate( var% runoff )<a name='830'>
         deallocate( var% rnof1 ) <a name='831'>
         deallocate( var% rnof2 ) <a name='832'>
         deallocate( var% rtsoil )<a name='833'>
         deallocate( var% sconds ) <a name='834'>
         deallocate( var% sdepth ) <a name='835'>
         deallocate( var% smass ) <a name='836'>
         deallocate( var% snage )  <a name='837'>
         deallocate( var% snowd )  <a name='838'>
         deallocate( var% smelt )  <a name='839'>
         deallocate( var% ssdn ) <a name='840'>
         deallocate( var% ssdnn ) <a name='841'>
         deallocate( var% tgg )   <a name='842'>
         deallocate( var% tggsn ) <a name='843'>
         deallocate( var% tss )   <a name='844'>
         deallocate( var% owb1 )   <a name='845'>
         deallocate( var% wb )    <a name='846'>
         deallocate( var% wbice ) <a name='847'>
         deallocate( var% wblf ) <a name='848'>
         deallocate( var%wbtot )    <a name='849'>
         deallocate( var%wbtot1 )    <a name='850'>
         deallocate( var%wbtot2 )    <a name='851'>
         deallocate( var%wb_lake )    <a name='852'>
         deallocate( var%sinfil )    <a name='853'>
         deallocate( var%evapfbl)    <a name='854'>
         deallocate( var%qstss)    <a name='855'>
         deallocate( var%wetfac )  <a name='856'>
         deallocate( var%owetfac )  <a name='857'>
         deallocate( var%t_snwlr )  <a name='858'>
         deallocate( var%wbfice )  <a name='859'>
         deallocate( var%tggav )  <a name='860'>
         deallocate( var%otgg )   <a name='861'>
         deallocate( var%otss )   <a name='862'>
         deallocate( var%tprecip ) <a name='863'>
         deallocate( var%tevap ) <a name='864'>
         deallocate( var%trnoff ) <a name='865'>
         deallocate( var%totenbal ) <a name='866'>
         deallocate( var%totenbal2 ) <a name='867'>
         deallocate( var%fland )      <a name='868'>
         deallocate( var%ifland )  <a name='869'>
         deallocate( var%tilefrac ) <a name='870'>
         deallocate( var%qasrf )  <a name='871'>
         deallocate( var%qfsrf )  <a name='872'>
         deallocate( var%qssrf )  <a name='873'>
      return<a name='874'>
   END SUBROUTINE dealloc_soil_snow_type<a name='875'>
   <a name='876'>
<A NAME='DEALLOC_VEG_PARAMETER_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_VEG_PARAMETER_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='877'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_veg_parameter_type</font>(var, mp)<a name='878'>
    TYPE(veg_parameter_type), INTENT(inout) :: var<a name='879'>
    INTEGER, INTENT(in) :: mp<a name='880'>
         deallocate( var% canst1 ) <a name='881'>
         deallocate( var% dleaf )  <a name='882'>
         deallocate( var% ejmax ) <a name='883'>
         deallocate( var% iveg ) <a name='884'>
         deallocate( var% meth ) <a name='885'>
         deallocate( var% frac4 )  <a name='886'>
         deallocate( var% hc )     <a name='887'>
         deallocate( var% vlai )   <a name='888'>
         deallocate( var% xalbnir ) <a name='889'>
         deallocate( var% rp20 )   <a name='890'>
         deallocate( var% rpcoef ) <a name='891'>
         deallocate( var% shelrb ) <a name='892'>
         deallocate( var% vegcf )  <a name='893'>
         deallocate( var% tminvj ) <a name='894'>
         deallocate( var% tmaxvj ) <a name='895'>
         deallocate( var% vbeta)  <a name='896'>
         deallocate( var% vcmax )  <a name='897'>
         deallocate( var% xfang )  <a name='898'>
         deallocate( var%extkn ) <a name='899'>
         deallocate( var%wai )   <a name='900'>
         deallocate( var%deciduous ) <a name='901'>
         deallocate( var%froot) <a name='902'>
         deallocate( var%refl )<a name='903'>
         deallocate( var%taul ) <a name='904'>
      return      <a name='905'>
  END SUBROUTINE dealloc_veg_parameter_type<a name='906'>
   <a name='907'>
<A NAME='DEALLOC_CANOPY_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_CANOPY_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='908'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_canopy_type</font>(var, mp)<a name='909'>
    TYPE(canopy_type), INTENT(inout) :: var<a name='910'>
    INTEGER, INTENT(in) :: mp<a name='911'>
          deALLOCATE ( var % fess )<a name='912'>
       deALLOCATE ( var % fesp )<a name='913'>
         deallocate( var% cansto )  <a name='914'>
         deallocate( var% cduv )   <a name='915'>
         deallocate( var% delwc )  <a name='916'>
         deallocate( var% dewmm )  <a name='917'>
         deallocate( var% dgdtg )  <a name='918'>
         deallocate( var% fe )      <a name='919'>
         deallocate( var% fh )      <a name='920'>
         deallocate( var% fpn )     <a name='921'>
         deallocate( var% frp )     <a name='922'>
         deallocate( var% frpw )    <a name='923'>
         deallocate( var% frpr )    <a name='924'>
         deallocate( var% frs )     <a name='925'>
         deallocate( var% fnee )    <a name='926'>
         deallocate( var% frday )   <a name='927'>
         deallocate( var% fnv )     <a name='928'>
         deallocate( var% fev )     <a name='929'>
         deallocate( var% fevc )    <a name='930'>
         deallocate( var% fhv )     <a name='931'>
         deallocate( var% fns )     <a name='932'>
         deallocate( var% fhs )     <a name='933'>
         deallocate( var% ga )      <a name='934'>
         deallocate( var% ghflux )   <a name='935'>
         deallocate( var% precis ) <a name='936'>
         deallocate( var% qscrn )  <a name='937'>
         deallocate( var% rnet )   <a name='938'>
         deallocate( var% segg )   <a name='939'>
         deallocate( var% sghflux )  <a name='940'>
         deallocate( var% through )  <a name='941'>
         deallocate( var% spill )  <a name='942'>
         deallocate( var% tscrn )  <a name='943'>
         deallocate( var% wcint )  <a name='944'>
         deallocate( var% tv )      <a name='945'>
         deallocate( var% us )      <a name='946'>
         deallocate( var% uscrn )   <a name='947'>
         deallocate( var% rghlai ) <a name='948'>
         deallocate( var% vlaiw ) <a name='949'>
         deallocate( var% fwet )   <a name='950'>
    DEALLOCATE ( var % evapfbl )<a name='951'>
         deallocate( var% epot )   <a name='952'>
         deallocate( var% fnpp )   <a name='953'>
         deallocate( var% fevw_pot )  <a name='954'>
         deallocate( var% gswx_T )  <a name='955'>
         deallocate( var% cdtq )   <a name='956'>
         deallocate( var% wetfac_cs )  <a name='957'>
         deallocate( var% fevw )   <a name='958'>
         deallocate( var% fhvw )   <a name='959'>
         deallocate( var% fes )    <a name='960'>
<font color=#447700>!<a name='961'></font>
         deallocate( var% gswx )  <a name='962'>
         deallocate( var% oldcansto )  <a name='963'>
         deallocate( var% zetar )  <a name='964'>
      return<a name='965'>
  END SUBROUTINE dealloc_canopy_type<a name='966'>
   <a name='967'>
<A NAME='DEALLOC_RADIATION_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_RADIATION_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='968'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_radiation_type</font>(var, mp)<a name='969'>
    TYPE(radiation_type), INTENT(inout) :: var<a name='970'>
    INTEGER, INTENT(in) :: mp<a name='971'>
         deallocate( var% albedo ) <a name='972'>
         deallocate( var% extkb )  <a name='973'>
         deallocate( var% extkd2 )<a name='974'>
         deallocate( var% extkd )<a name='975'>
         deallocate( var% flws )<a name='976'>
         deallocate( var% fvlai )<a name='977'>
         deallocate( var% latitude )<a name='978'>
         deallocate( var% lwabv )<a name='979'>
         deallocate( var% qcan )<a name='980'>
         deallocate( var% qssabs )<a name='981'>
         deallocate( var% rhocdf )<a name='982'>
         deallocate( var% rniso )<a name='983'>
         deallocate( var% scalex )<a name='984'>
         deallocate( var% transd )<a name='985'>
         deallocate( var% trad )<a name='986'>
         deallocate( var% reffdf )<a name='987'>
         deallocate( var% reffbm )<a name='988'>
         deallocate( var% extkbm )<a name='989'>
         deallocate( var% extkdm )<a name='990'>
         deallocate( var% fbeam )<a name='991'>
         deallocate( var% cexpkbm )<a name='992'>
         deallocate( var% cexpkdm )<a name='993'>
         deallocate( var% rhocbm )<a name='994'>
         deallocate( var% transb )<a name='995'>
         deallocate( var% albedo_T )<a name='996'>
         deallocate( var% gradis )<a name='997'>
         deallocate( var% longitude )<a name='998'>
         deallocate( var% workp1 )<a name='999'>
         deallocate( var% workp2 )<a name='1000'>
         deallocate( var% workp3 )<a name='1001'>
      return<a name='1002'>
  END SUBROUTINE dealloc_radiation_type<a name='1003'>
   <a name='1004'>
<A NAME='DEALLOC_ROUGHNESS_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_ROUGHNESS_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='1005'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_roughness_type</font>(var, mp)<a name='1006'>
    TYPE(roughness_type), INTENT(inout) :: var<a name='1007'>
    INTEGER, INTENT(in) :: mp<a name='1008'>
    DEALLOCATE ( var % coexp )<a name='1009'>
    DEALLOCATE ( var % disp )<a name='1010'>
    DEALLOCATE ( var % hruff )<a name='1011'>
    DEALLOCATE ( var % hruff_grmx )<a name='1012'>
    DEALLOCATE ( var % rt0us )<a name='1013'>
    DEALLOCATE ( var % rt1usa )<a name='1014'>
    DEALLOCATE ( var % rt1usb )<a name='1015'>
    DEALLOCATE ( var % rt1 )<a name='1016'>
    DEALLOCATE ( var % term2 )<a name='1017'>
    DEALLOCATE ( var % term3 )<a name='1018'>
    DEALLOCATE ( var % term5 )<a name='1019'>
    DEALLOCATE ( var % term6 )<a name='1020'>
    DEALLOCATE ( var % usuh )<a name='1021'>
    DEALLOCATE ( var % za_uv )<a name='1022'>
    DEALLOCATE ( var % za_tq )<a name='1023'>
    DEALLOCATE ( var % z0m )<a name='1024'>
    DEALLOCATE ( var % zref_uv )<a name='1025'>
    DEALLOCATE ( var % zref_tq )<a name='1026'>
    DEALLOCATE ( var % zruffs )<a name='1027'>
    DEALLOCATE ( var % z0soilsn )<a name='1028'>
    DEALLOCATE ( var % z0soil )<a name='1029'>
  END SUBROUTINE dealloc_roughness_type<a name='1030'>
   <a name='1031'>
<A NAME='DEALLOC_AIR_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_AIR_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='1032'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_air_type</font>(var, mp)<a name='1033'>
    TYPE(air_type), INTENT(inout) :: var<a name='1034'>
    INTEGER, INTENT(in) :: mp<a name='1035'>
    DEALLOCATE ( var % rho )<a name='1036'>
    DEALLOCATE ( var % volm )<a name='1037'>
    DEALLOCATE ( var % rlam )<a name='1038'>
    DEALLOCATE ( var % qsat )<a name='1039'>
    DEALLOCATE ( var % epsi )<a name='1040'>
    DEALLOCATE ( var % visc )<a name='1041'>
    DEALLOCATE ( var % psyc )<a name='1042'>
    DEALLOCATE ( var % dsatdk )<a name='1043'>
    DEALLOCATE ( var % cmolar )<a name='1044'>
  END SUBROUTINE dealloc_air_type<a name='1045'>
   <a name='1046'>
<A NAME='DEALLOC_MET_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_MET_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='1047'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_met_type</font>(var, mp)<a name='1048'>
    TYPE(met_type), INTENT(inout) :: var<a name='1049'>
    INTEGER, INTENT(in) :: mp<a name='1050'>
    DEALLOCATE ( var % ca )<a name='1051'>
    DEALLOCATE ( var % year )<a name='1052'>
    DEALLOCATE ( var % moy )<a name='1053'>
    DEALLOCATE ( var % doy )<a name='1054'>
    DEALLOCATE ( var % hod )<a name='1055'>
    DEALLOCATE ( var % fsd )<a name='1056'>
    DEALLOCATE ( var % fld )<a name='1057'>
    DEALLOCATE ( var % precip )<a name='1058'>
    DEALLOCATE ( var % precip_sn )<a name='1059'>
    DEALLOCATE ( var % tk )<a name='1060'>
    DEALLOCATE ( var % tvair )<a name='1061'>
    DEALLOCATE ( var % tvrad )<a name='1062'>
    DEALLOCATE ( var % pmb )<a name='1063'>
    DEALLOCATE ( var % ua )<a name='1064'>
    DEALLOCATE ( var % qv )<a name='1065'>
    DEALLOCATE ( var % qvair )<a name='1066'>
    DEALLOCATE ( var % da )<a name='1067'>
    DEALLOCATE ( var % dva )<a name='1068'>
    DEALLOCATE ( var % coszen )<a name='1069'>
  END SUBROUTINE dealloc_met_type<a name='1070'>
   <a name='1071'>
<A NAME='DEALLOC_SUM_FLUX_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_SUM_FLUX_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='1072'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_sum_flux_type</font>(var, mp)<a name='1073'>
    TYPE(sum_flux_type), INTENT(inout) :: var<a name='1074'>
    INTEGER, INTENT(in) :: mp<a name='1075'>
    DEALLOCATE ( var % sumpn )<a name='1076'>
    DEALLOCATE ( var % sumrp )<a name='1077'>
    DEALLOCATE ( var % sumrpw )<a name='1078'>
    DEALLOCATE ( var % sumrpr )<a name='1079'>
    DEALLOCATE ( var % sumrs )<a name='1080'>
    DEALLOCATE ( var % sumrd )<a name='1081'>
    DEALLOCATE ( var % dsumpn )<a name='1082'>
    DEALLOCATE ( var % dsumrp )<a name='1083'>
    DEALLOCATE ( var % dsumrs )<a name='1084'>
    DEALLOCATE ( var % dsumrd )<a name='1085'>
    DEALLOCATE ( var % sumxrp )<a name='1086'>
    DEALLOCATE ( var % sumxrs )<a name='1087'>
  END SUBROUTINE dealloc_sum_flux_type<a name='1088'>
<a name='1089'>
<A NAME='DEALLOC_BGC_POOL_TYPE'><A href='../../html_code/common/cable_define_types.F90.html#DEALLOC_BGC_POOL_TYPE' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='1090'>
  <font color=#993300>SUBROUTINE </font><font color=#cc0000>dealloc_bgc_pool_type</font>(var, mp)<a name='1091'>
    TYPE(bgc_pool_type), INTENT(inout) :: var<a name='1092'>
    INTEGER, INTENT(in) :: mp<a name='1093'>
    DEALLOCATE ( var % cplant )<a name='1094'>
    DEALLOCATE ( var % csoil )<a name='1095'>
  END SUBROUTINE dealloc_bgc_pool_type<a name='1096'>
  <a name='1097'>
<a name='1098'>
END MODULE define_types<a name='1099'>
</pre></body></html>