!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!  this program is used to read data from a file.         !!!!!!
!!!!!!  this program is made to be as generic as possible,     !!!!!!
!!!!!!  but requires some input information such as file       !!!!!!
!!!!!!  name and size.                                         !!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
module global_module
   integer :: N=29
   real, pointer :: x(:), Gamma_BH(:),Gamma_Srb(:),Gamma_F(:)
end module
   PROGRAM plot
      use global_module 
      use genericread_module
      implicit none
         integer :: i
         real :: fesc
            real ::  xmin=0,xmax=80,ymin=0,ymax=0.5
            call readGamma("Input/lambda.dat",N,x)
            call readGamma("Input/BHGamma.dat",N,Gamma_BH)
            do i=1,N
               write (*,fmt=10),x(i),Gamma_BH(i),Gamma_Srb(i),Gamma_F(i)
         10    format(F9.3XXX,F9.3XXX,F9.3XXX,F9.3)             
            enddo
            call plot_setup
            call pgsvp(0.1,0.6,0.1,0.9)
            call pgswin(xmin,xmax,ymin,ymax)  
            call pgsci(15); call pgslw(5); call pgsls(2)
            call pgline(N,x,Gamma_BH)

            fesc=0.05
            call readGamma("Input/J21_mfp.dat",N,Gamma_Srb,fesc)
            call pgsci(1); call pgslw(5); call pgsls(1)
            call pgline(N,x,Gamma_Srb)
            fesc=0.1
            call readGamma("Input/J21_mfp.dat",N,Gamma_Srb,fesc)
            call pgsci(2); 
            call pgline(N,x,Gamma_Srb)
            fesc=0.2
            call readGamma("Input/J21_mfp.dat",N,Gamma_Srb,fesc)
            call pgsci(3); 
            call pgline(N,x,Gamma_Srb)
            fesc=0.3
            call readGamma("Input/J21_mfp.dat",N,Gamma_Srb,fesc)
            call pgsci(4); 
            call pgline(N,x,Gamma_Srb)

            call readGamma("Input/myGamma.005",N,Gamma_F)
            call pgsci(1); call pgslw(2); call pgsls(1)
            call pgline(N,x,Gamma_F)
            call readGamma("Input/myGamma.010",N,Gamma_F)
            call pgsci(2); 
            call pgline(N,x,Gamma_F)
            call readGamma("Input/myGamma.040",N,Gamma_F)
            call pgsci(3); 
            call pgline(N,x,Gamma_F)
            call readGamma("Input/myGamma.080",N,Gamma_F)
            call pgsci(4); 
            call pgline(N,x,Gamma_F)
            call pgsci(1); call pgslw(3); call pgsls(1)

            call pgsvp(0.6,0.9,0.1,0.9)
            !call pgbox('BC', 0.0, 0, 'BC', 0.0,0)  
               call pgsvp(0.1,0.9,0.1,0.9)
            call pgbox('BNCST', 0.0, 0, 'BSTNC', 0.0,0)  








            call pgend





      stop
   end program plot

      subroutine plot_setup
         implicit none
               call pgbeg(0,"/xs",1,1)  
               call pgpage()
               call pgsvp(0.1,0.9,0.1,0.9)
               call pgsch(1.5)
               call pgmtxt("B",2.0,0.5,0.5,"\gl\\dMFP\\u (Mpc)")
               call pgmtxt('L',2.0,0.5,0.5,"\gG\\d12\\u")
         return
      end SUBROUTINE plot_setup








!
