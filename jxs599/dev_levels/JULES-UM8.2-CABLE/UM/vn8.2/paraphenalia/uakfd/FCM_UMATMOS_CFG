
#---------------------------------------------------------------------
# Script: FCM_UMATMOS_CFG
#---------------------------------------------------------------------
#
# Purpose: FCM Configuration and Model Selections file for a
#          UM Atmosphere run job
#         
# Created from UMUI vn8.2
#---------------------------------------------------------------------

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 1: Inherit Precompiled Build
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# If UMUI switch "Use a precompiled build" is selected then the
# "use" declaration and full path to the file ext.cfg has to be
# included, otherwise inherit src code from base repository.
# For example:
#   use 	    $UM_PREBUILD/N48_atmos/umscripts/cfg/ext.cfg 
# or:
#   use             $UM_MAINDIR/baserepos/UMATMOS/cfg/ext.cfg
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

use $UM_MAINDIR/baserepos/UMATMOS/cfg/ext.cfg

use $UM_MAINDIR/baserepos/JULES/cfg/ext.cfg


# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 2: Build Declarations (MANDATORY)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

bld::excl_dep::UM::script  EXE
bld::excl_dep              USE::mpl
bld::excl_dep              USE::gcom_mod
bld::excl_dep              USE::netcdf
bld::excl_dep              INC::mpif.h
bld::excl_dep              INC::netcdf.inc

bld::pp::UM                1 
bld::pp::jules             1

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 3a: Model Specific Sections
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

%jobdefs \
   UM_JULES=um_jules \
   L08_1A=l08_1a \
   L19_1A=l19_1a \
   GLOBAL=global \
   A01_3Z=a01_3z \
   A02_3Z=a02_3z \
   A03_9C=a03_9c \
   A04_3D=a04_3d \
   A05_5A=a05_5a \
   A06_4A=a06_4a \
   A08_8A=a08_8a \
   A09_2A=a09_2a \
   A10_2B=a10_2b \
   A11_2A=a11_2a \
   A12_2A=a12_2a \
   A13_2A=a13_2a \
   A14_1B=a14_1b \
   A15_1A=a15_1a \
   A16_1A=a16_1a \
   A17_2B=a17_2b \
   A18_0A=a18_0a \
   A19_1B=a19_1b \
   A26_0A=a26_0a \
   A30_1A=a30_1a \
   A31_0A=a31_0a \
   A32_1A=a32_1a \
   A33_0A=a33_0a \
   A34_0A=a34_0a \
   A35_0A=a35_0a \
   A36_0A=a36_0a \
   A37_0A=a37_0a \
   A38_0A=a38_0a \
   A39_0A=a39_0a \
   A70_1Z=a70_1z \
   A71_1A=a71_1a \
   C70_1A=c70_1a \
   C72_0A=c72_0a \
   C80_1A=c80_1a \
   C82_1A=c82_1a \
   C84_1A=c84_1a \
   C92_2A=c92_2a \
   C94_1A=c94_1a \
   C95_2A=c95_2a \
   C96_1C=c96_1c \
   C97_3A=c97_3a \
   C98_0A=c98_0a \
   CABLE=cable


# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 4: User overrides from a branch (OPTIONAL)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#  
# If the user selects "Include modifications from branch(es)"
# then a pair of "branchN" declarations for each branch needs
# to be included.
# For example:
#   repos::UM::branch1    svn://fcm2/UM_svn/UM/branches/dev/userid/VNx.x_branchname/src
#   expsrc::UM::branch1   /
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 4b: Overrides from central script mods (OPTIONAL)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# If the option "Use central script mods" in the umui is selected
# then "script_mods" declaration needs to be included.
# This entry in the CFG file only differs from that of an ordinary 
# branch in the UMscripts build, because the script build targets 
# for each branch is included.
# For example:
#   repos::UM::script_mods     svn://fcm2/UM_svn/UM/branches/dev/???
#   expsrc::UM::script_mods    /
#   inc svn://fcm2/UM_svn/UM/branches/???/src/configs/script_build/...    /
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 5: User overrides from a working copy (OPTIONAL)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# If the option "Include modifications from user working copy" 
# is selected then "user" declarations needs to be included.
# For example:
#   repos::UM::user    /data/local/userid/workingcpy_name/src
#   expsrc::UM::user
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Part 6b: Bind file (MANDATORY)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# These relate to the level of optimisation required and sets up
# all the correct pre-processing, compiler and linker flags.
# For umui purposes there are 6 possibilities:
#   bind64_mpp_high.cfg
#   bind64_mpp_safe.cfg
#   bind64_mpp_debug.cfg
#   bind64_serial_high.cfg
#   bind64_serial_safe.cfg
#   bind64_serial_debug.cfg 
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

inc $UM_SVN_BIND/bind64_mpp_safe.cfg@HEAD



