CC = gcc 
CPP = g++ 
FC = g77 
CFLAGS = -g -O  -DLINUX -Wall
FFLAGS = -O
CINC = -I/usr/local/fftw3 -I/usr/local -I//usr/local/fftw3/include/ 
LIBS = -L/usr/local/src -lm  -L/usr/local/fftw3/lib/ -L/usr/local/src/fftw-3.1.2/.libs/ -lfftw3 
F = gfortran 
FLINK = -c 
FFLAGS = -o #-Wall
MYSUBROUTINES= MYSUBROUTINES/
FPGPLOTLIBS = -L /usr/local/pgplot  -lpgplot -lpng 

plot: plot.f90
	$(F)	$(FLINK) 	$(MYSUBROUTINES)genericread_module.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)plot_modules.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)plot_routines.f90	
#	$(F) $(FFLAGS)  plot plot.f90 plot_modules.o plot_routines.o $(FPGPLOTLIBS) 
	$(F) $(FFLAGS)  plot plot.f90 plot_modules.o plot_routines.o genericread_module.o $(FPGPLOTLIBS) 

#plot: plot.f90
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)readcode_vars.f90	
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)plot_cases_module.f90	
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)plot_intmod.f90	
  # $(F) $(FFLAGS)  plot plot.f90 readcode_vars.o  genericread_module.o plot_cases_module.o plot_modules.o plot_intmod.o  $(FPGPLOTLIBS) 

match: match.f90
	$(F)	$(FLINK) 	$(MYSUBROUTINES)match_modules.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)genericread_modules.f90	
	$(F) $(FFLAGS) match match.f90 match_modules.o genericread_modules.o $(FPGPLOTLIBS)
 
#match: match.f90
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)genericread_modules.f90	
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)match_modules.f90	
#	$(F) $(FFLAGS) match match.f90 match_modules.o $(FPGPLOTLIBS)
 
test: test.f90
	$(F)	$(FLINK) 	$(MYSUBROUTINES)read_modules.f90	
	$(F) $(FFLAGS) test test.f90 genericread_modules.o read_modules.o $(FPGPLOTLIBS) 


readfile: readfile.f90
	$(F) $(FFLAGS) readfile readfile.f90 read_modules.o $(FPGPLOTLIBS) 

 
program_filter:	program_filter.f90
	$(F)	$(FLINK) 	$(MYSUBROUTINES)filter_modules.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)write_filter_coords.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)write_filter.f90	
#	$(F)	$(FLINK) 	$(MYSUBROUTINES)read_FUNC.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)plot_filter.f90 
	$(F)	$(FLINK) 	$(MYSUBROUTINES)contour.f90	
	$(F)	$(FFLAGS)	program_filter program_filter.f90 write_filter_coords.o write_filter.o filter_modules.o plot_filter.o contour.o $(FPGPLOTLIBS)  

	
write_filter : write_filter.f90
	$(F)	$(FLINK) 	$(MYSUBROUTINES)filter_modules.f90	
	$(F)	$(FLINK) 	$(MYSUBROUTINES)write_filter_coords.f90	
#	$(F) $(FFLAGS)  write_filter  write_filter.f90 filter_modules.o write_filter_coords.o $(FPGPLOTLIBS) 

clean:
	rm -f *.o *~ *.mod






