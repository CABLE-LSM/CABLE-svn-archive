!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!  this program is used to read data from a file.         !!!!!!
!!!!!!  this program is made to be as generic as possible,     !!!!!!
!!!!!!  but requires some input information such as file       !!!!!!
!!!!!!  name and size.                                         !!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
module global_module
   integer :: N=29
   real, pointer :: x(:), Gamma_BH(:),Gamma_Srb(:),Gamma_F(:)
end module
   PROGRAM plot
      use global_module 
      use genericread_module
      implicit none
         integer :: i
         real :: fesc=0.1
            call readGamma("Input/lambda.dat",N,x)
            call readGamma("Input/BHGamma.dat",N,Gamma_BH)
            call readGamma("Input/J21_mfp.dat",N,Gamma_Srb,fesc)
            do i=1,N
               write (*,fmt=10),x(i),Gamma_BH(i),Gamma_Srb(i),Gamma_F(i)
         10    format(F9.3XXX,F9.3XXX,F9.3XXX,F9.3)             
            enddo
            call plot_setup
            call pgsci(15); call pgslw(3); call pgsls(2)
            call pgline(N,x,Gamma_BH)
            call pgsci(15); call pgslw(3); call pgsls(1)
            call pgline(N,x,Gamma_Srb)
!            call readGamma("Input/myGamma.005",N,Gamma_F)
!            call pgsci(1); call pgslw(3); call pgsls(1)
!            call pgline(N,x,Gamma_F)
!            call readGamma("Input/myGamma.010",N,Gamma_F)
!            call pgsci(1); call pgslw(3); call pgsls(1)
!            call pgline(N,x,Gamma_F)
!            call readGamma("Input/myGamma.040",N,Gamma_F)
!            call pgsci(1); call pgslw(3); call pgsls(1)
!            call pgline(N,x,Gamma_F)
!            call readGamma("Input/myGamma.080",N,Gamma_F)
!            call pgsci(1); call pgslw(3); call pgsls(1)
!            call pgline(N,x,Gamma_F)
      stop
   end program plot

      subroutine plot_setup
         implicit none
            real ::  xmin=0,xmax=80,ymin=0,ymax=0.8
               call pgbeg(0,"/xs",1,1)  
               call pgpage()
               call pgsvp(.1,.9,.1,.9);
               call pgsch(1.5)
               call pgmtxt('B',2.0,0.5,0.5,'test')
               call pgswin(xmin,xmax,ymin,ymax)  
               call pgbox('BNCST', 0.0, 0, 'BSTNC', 0.0,0)  
               call pgmtxt('T',2,0.5,0.5,"Transmission measurements: 19 quasars")
               call pgmtxt('B',2,0.5,0.5,"z\\dobs\\u")
               call pgmtxt('L',4,0.5,0.5,"Transmission")
               call pgslw(1)
         return
      end SUBROUTINE plot_setup








!
